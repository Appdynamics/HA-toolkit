
1) stop the secondary database and watchdog.  this is to prevent a failover
   and to preserve the state of the database should the upgrade go poorly.

2) save the domain.xml and db.cnf on the primary.  we will need to back-patch
    all the deltas in these files

3) upgrade the primary.  this will add and remove tables, columns etc in the database.
    these pile up in the primary bin-logs until the secondary is started, so we don't
    want to start the secondary until we have finished the upgrade and validated it.

4) stop the primary and patch the domain.xml and db.cnf files.

5) start the controller and check it out.  make sure that all functionality is present.
 
6) once we are completely convinced that we are ready to update the known good
    secondary, start the secondary datanbase.   this will start replication and begin applying
    all the database changes that were part of the product upgrade.

7) when seconds behind master == 0 on the secondary, appdstatus.sh should report
    the new version.   this means that the secondary is inconsistent.  the database is
    one version, and the application server is the older version.  now we want to run the
    installer on the secondary, which will update the application server.

8) stop the secondary application server and restart the secondary service.
    your HA pair is now upgraded.

